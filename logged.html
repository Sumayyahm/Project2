<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.5.8/dist/css/uikit.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />

    <title>Esthete Gallery</title>


</head>

<body>
    <div uk-sticky=" cls-active: uk-navbar-sticky; bottom: #transparent-sticky-navbar" class="nav">
        <nav class="uk-navbar" uk-navbar>
            <div class="uk-navbar-right">
                <ul class="uk-navbar-nav" class="navi">
                    <li><a href="main.html">HOME</a></li>
                    <li>
                        <a href="#">COLLECTION</a>
                        <div class="uk-navbar-dropdown">
                            <ul class="uk-nav uk-navbar-dropdown-nav">
                                <li><a href="#">Surrealism</a></li>
                                <li><a href="#">Baroque</a></li>
                                <li><a href="#">Cubism</a></li>
                                <li><a href="#">Impressionism</a></li>
                                <li><a href="#">Expressionism</a></li>
                                <li><a href="#">Conceptual Art</a></li>
                                <li><a href="#">Rococo</a></li>
                            </ul>
                        </div>
                    </li>
                    <li><a href="#">ARTISTS</a></li>
                    <li><a href="#">EXHIBITIONS</a></li>
                    <li><a href="#">CONTACT</a></li>
                    <li><a href="#">ABOUT</a></li>
                    <li><a href="login.html">LOGIN</a></li>
                </ul>

            </div>
        </nav>
        <img src="esthete.JPG" class="galleryname">
    </div>
    <div>
        <div class="uk-placeholder uk-text-center">
            <span class="uk-text-middle">Upload images of artwork by clicking</span>
            <button id="upload_widget" class="cloudinary-button">here</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.8/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.8/dist/js/uikit-icons.min.js"></script>

    <script type="text/javascript">
        var myWidget = cloudinary.createUploadWidget({
            cloudName: 'esthete',
            uploadPreset: 'preset123'
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                console.log('Done! Here is the image info: ', result.info);

                var newSavedImg = {
                    imgUrl: result.info.url,
                    publicId: result.info.public_id
                }
                console.log(newSavedImg)

                $.post("/api/artwork", newSavedImg)
                    .then(function (data) {
                        console.log("add.html", data);
                        alert("Adding character...");
                    });
            };
        }

        )

        document.getElementById("upload_widget").addEventListener("click", function () {
            myWidget.open();
        }, false);
    </script>

</body>

</html>